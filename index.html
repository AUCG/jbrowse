<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content = "text/html; charset=utf-8">
    <title>JBrowse</title>

    <style>
        html,body {
            height: 100%;
            width: 100%;
            padding: 0;
            border: 0;
        }
    </style>
  </head>

  <body>
    <div id="JBrowse" style="height: 100%; width: 100%; padding: 0; border: 0;"></div>
    <div style="display: none">JBrowseDefaultMainPage</div>
  </body>

  <script type="text/javascript" src="src/dojo/dojo.js" data-dojo-config="async: true"></script>
  <script type="text/javascript">
      window.onerror = function(msg){
          if( document.body )
              document.body.setAttribute( "JSError", msg );
      }

      var JBrowse;
      require( { baseUrl: 'src',
                 packages: [ 'dojo', 'dijit', 'dojox', 'jszlib',
                             { name: 'lazyload', main: 'lazyload' },
                             'dgrid', 'xstyle', 'put-selector',
                             { name: 'jDataView', location: 'jDataView/src', main: 'jdataview' },
                             'JBrowse', 'FileSaver'
                           ]
               },
          [ 'JBrowse/Browser' ],
          function( Browser ) {
                 // create a JBrowse global variable holding the JBrowse instance
                 JBrowse = new Browser({ container: 'JBrowse', queryString: window.location.search });
      });
  </script>
</html>
