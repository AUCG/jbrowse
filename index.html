<!DOCTYPE html 
	  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  
  <head>
    <title>div genome test</title>
    <link rel="stylesheet" type="text/css" href="jslib/dijit/themes/tundra/tundra.css"></link>
    <link rel="stylesheet" type="text/css" href="jslib/dojo/resources/dojo.css"></link>
    <link rel="stylesheet" type="text/css" href="genome.css"></link>
    <style type="text/css">
      html, body { height: 100%; width: 100%; padding: 0; border: 0; }
      #mainSplit { height: 100%; width: 100%; padding: 0; border: 0; }
      #genomeBrowser { height: 100%; width:100%; padding: 0; border: none; }

      #mainSplit .dijitSplitterH { height: 7px }
      #mainSplit .dijitSplitterV { width: 7px }
    </style>

    <script type="text/javascript">
    /* <![CDATA[ */
       	var djConfig = {
		usePlainJson: true,
                parseOnLoad: true
	};
    /* ]]> */
    </script>
    <script type="text/javascript" src="jslib/dojo/dojo.js" ></script>

    <script type="text/javascript" src="Util.js"></script>
    <script type="text/javascript" src="NCList.js"></script>
    <script type="text/javascript" src="Track.js"></script>
    <script type="text/javascript" src="FeatureTrack.js"></script>
    <script type="text/javascript" src="StaticTrack.js"></script>
    <script type="text/javascript" src="ImageTrack.js"></script>
    <script type="text/javascript" src="GenomeView.js"></script>
    <script type="text/javascript" src="Browser.js"></script>
    <script type="text/javascript">
    /* <![CDATA[ */
      var trackList =
          [
           {type: "SimpleFeatureTrack", url: "data/3R/gene.json", className: "feature2", label: "gene", key: "Gene Span"},
           {type: "SimpleFeatureTrack", url: "data/3R/mRNA.json", className: "feature", label: "mRNA", key: "mRNA"},
           {type: "SimpleFeatureTrack", url: "data/3R/mRNA_subs.json", className: "feature4", label: "mRNA_subs", key: "mRNA with subfeatures"},
           {type: "SimpleFeatureTrack", url: "data/3R/oligo.json", className: "feature4", label: "oligo", key: "Oligonucleotides"},
           {type: "SimpleFeatureTrack", url: "data/3R/Exons.json", className: "exon", label: "Exons", key: "Exons"},
           {type: "SimpleFeatureTrack", url: "data/3R/noncodingRNA.json", className: "feature3", label: "ncRNA", key: "Non coding RNA"},
           {type: "SimpleFeatureTrack", url: "data/3R/tRNA.json", className: "helix", label: "tRNA", key: "tRNA"},
           {type: "SimpleFeatureTrack", url: "data/3R/transposable_element_insertion_site.json", className: "hourglass hgred", label: "transposon_insertion_site", key: "Transgene insertion site"},
           {type: "SimpleFeatureTrack", url: "data/3R/transposable_element.json", className: "dblhelix", label: "transposon", key: "Natural transposon"},
           {type: "SimpleFeatureTrack", url: "data/3R/point_mutation.json", className: "hourglass hgblue", label: "snp", key: "Mutation: point mutation"},
           {type: "SimpleFeatureTrack", url: "data/3R/CDS.json", className: "feature3", label: "CDS", key: "CDS"},
           {type: "SimpleFeatureTrack", url: "data/3R/protein_binding_site_1.json", className: "feature5", label: "protein_binding_site", key: "protein_binding_site"},
          ];

       dojo.require("dojo.parser");
       dojo.require("dojo.dnd.Source");
       dojo.require("dijit.layout.ContentPane");
       dojo.require("dijit.layout.BorderContainer");

       dojo.addOnLoad(function() {
           Browser.init('genomeBrowser');
           tracks.insertNodes(false, trackList);
       });

       var trackListCreate = function(track, hint) {
           var labelDiv = document.createElement("div");
           labelDiv.className = "tracklist-label";
           labelDiv.id = dojo.dnd.getUniqueId(); //"label_" + track.name + (hint ? hint : "");
           labelDiv.appendChild(document.createTextNode(track.key));
           return {node: labelDiv, data: track, type: ["track"]};
       }
    /* ]]> */
    </script>
  </head>
  
  <body class="tundra">
    <!--&nbsp;&nbsp;&nbsp;-->
    <!--<div id="myLogger" style="position:relative; height: 10ex; left: 2%; width: 96%; overflow: scroll"></div>-->

    <div dojoType="dijit.layout.BorderContainer"
         liveSplitters="false"
         design="sidebar"
         id="mainSplit">

      <div dojoType="dijit.layout.ContentPane" region="top">
        <div style="text-align: center; padding: 5px;">
          <button id="moveLeft" class="nav">&lt;&lt;</button>
          <!--<button id="stepLeft" class="nav">&lt;</button>
              <button id="stepRight" class="nav">&gt;</button>-->
          <button id="moveRight" class="nav">&gt;&gt;</button>
          &nbsp;&nbsp;&nbsp;
          <button id="zoomIn" class="nav">+</button>
          <button id="zoomOut" class="nav">-</button>
          &nbsp;&nbsp;&nbsp;
          <button id="profile" class="nav" style="display:none">demo</button>
        </div>
      </div>
      <div id="tracksAvail"
           dojoType="dijit.layout.ContentPane"
           region="leading"
           splitter="true"
	   style="width: 10em">
        <div dojoType="dojo.dnd.Source"
             jsId="tracks"
             withHandles="false"
	     accept="track"
             class="container handles"
             style="width: 100%; height: 100%;">
        Available Tracks:<br/>
        (Drag <span style="font-family: mono; font-weight: bold">&mdash;&gt;</span> to view)
	  <script type="dojo/method" event="creator" args="item, hint">return trackListCreate(item, hint);</script>
	</div>
      </div>

      <div id="browserPane"
           dojoType="dijit.layout.ContentPane"
           region="center">
        <div id="genomeBrowser"
             class="dragWindow">
        </div>
      </div>
    </div>
  </body>
</html>
